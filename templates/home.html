<!DOCTYPE html>
<html>
<head>
<script src="http://maps.googleapis.com/maps/api/js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="{{
  url_for('static', filename='jquery.js') }}">\x3C/script>')</script>

<script type=text/javascript>

var listOfOrigin = [
  ['Bondi Beach', -33.890542, 151.274856, 4],
  ['Coogee Beach', -33.923036, 151.259052, 5],
  ['Cronulla Beach', -34.028249, 151.157507, 3],
  ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],
  ['Maroubra Beach', -33.950198, 151.259302, 1]
];

var dest =  ['Restaurant 1',-33.8, 150.5];

function initialize() {
  var mapProp = {
    center:new google.maps.LatLng(-33,151.0),
    zoom:9,
    mapTypeId:google.maps.MapTypeId.ROADMAP
  };

  var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

  var image='DestPin.png';

  var marker=new google.maps.Marker({
    position:{lat:dest[1], lng:dest[2]},
    icon:image,
    map:map
  });

  for (var i = 0; i < listOfOrigin.length; i++) {
    var origin = listOfOrigin[i];
    var marker = new google.maps.Marker({
      position: {lat: origin[1], lng: origin[2]},
      map: map
    });
  }
}


var output=document.getElementById("output");
function getNewLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    }
    else output.innerHTML="No Geolocation";
}

function showPosition(position) {
    document.locationForm.lat.value=position.coords.latitude;
    document.locationForm.lon.value=position.coords.longitude;
    }   

google.maps.event.addDomListener(window, 'load', initialize);
</script>

<div class=page>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="{{ url_for('static',filename='home.css') }}">

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">MapIO</a>
    </div>
    <div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="#About">About</a></li>
        <li><a href="#Friends">Friends</a></li>

      </ul>
      
      <a class="navbar-center">
        <form class="navbar-form center-block" role="search">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term">
            <div class="input-group-btn">
                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
        </div>
        </form>
      </a>
      <div class=metanav>
        <ul class="nav navbar-nav pull-right"> 
          {% if current_user.is_authenticated %}
          <li><a href="{{ url_for('logout') }}" class="glyphicon glyphicon-cog pull-right">Logout</a></li>
          {% else %}
          <li><a href="{{ url_for('login') }}" class="glyphicon glyphicon-cog pull-right">Login</a></li>
          {% endif %}
        </ul>
      </div>
    </div>
  </div>
</nav>



</head>

<body onload="getNewLocations();">
<div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="#">
                        Start Bootstrap
                    </a>
                </li>
                <li>
                    <a href="#">Restaurant 1</a>
                </li>
                <li>
                    <a href="#">Restaurant 2</a>
                </li>
                <li>
                    <a href="#">Restaurant 3</a>
                </li>
                <li>
                    <a href="#">Restaurant 4</a>
                </li>
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div id="googleMap"></div> 

                        <button onclick="getNewLocation();">Get Location</button>
                        <form name="locationForm" method='POST'>
                        <input id='lat' type=text name="lat" value=0>
                        <input id='lon' type=text name="lon" value=0>
                        <input type="submit" value="Send Location"/>
                        </form>

                        <a id="output"> HI </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>

</body>

</html> 